"use strict";var e=require("fs"),t=require("path");function i(e){var i=e.inputs.custom_build_dir_name,o=t.join(e.inputs.build_dir_path,i,"cache");return{absolute:{buildDir:o,manifest:t.join(o,"..","build-manifest.json")},buildDirName:i}}module.exports={onPreBuild:function(t){var o=t.utils,s=t.inputs;try{var r=i({inputs:s});return Promise.resolve(o.cache.restore(r.absolute.buildDir)).then((function(t){console.log(r.absolute.buildDir+" "+(e.existsSync(r.absolute.buildDir)?"exists":"does not exist")+" on disk"),t?console.log("Restored the cached "+r.buildDirName+" folder at the location `"+r.absolute.buildDir+"`"):console.log("Couldn't restore the cache for the "+r.buildDirName+" folder at the location `"+r.absolute.buildDir+"`")}))}catch(e){return Promise.reject(e)}},onPostBuild:function(t){var o=t.utils,s=t.inputs;try{var r=i({inputs:s});return console.log(r.absolute.buildDir+" "+(e.existsSync(r.absolute.buildDir)?"exists":"does not exist")+" on disk"),Promise.resolve(o.cache.save(r.absolute.buildDir,{digests:[r.absolute.manifest]})).then((function(e){e?console.log("Cached the "+r.buildDirName+" folder at the location `"+r.absolute.buildDir+"`"):console.log("Couldn't cache the "+r.buildDirName+" folder at the location `"+r.absolute.buildDir+"`")}))}catch(e){return Promise.reject(e)}}};
//# sourceMappingURL=netlify-plugin-cache-nextjs.cjs.production.min.js.map
